<h4> Flash Arduino board </h4>
With this plugin you can flash the firmware of your arduino based printer board. Upload a .hex file created by your preferred firmware builder. Make sure OctoPrint is disconnected from the printer before flashing.
<br><br>
<form class="form-horizontal">
    <div class="control-group">
        <label class="control-label" for="settings-avrdude-path">{{ _('Path to Avrdude') }}</label>
        <div class="controls">
            <input type="text" class="input-block-level" data-bind="value: settings.plugins.flasharduino.avrdude_path">
        </div>
    </div>
</form>
<form class="form-horizontal">
    <div class="control-group">
        <label class="control-label" for="settings-avrdude-conf">{{ _('Path to avrdude.conf') }}</label>
        <div class="controls">
            <input type="text" class="input-block-level" data-bind="value: settings.plugins.flasharduino.avrdude_conf">
            Save these settings once before flashing.
        </div>
    </div>
</form>
<div class="span5">
	<div class="control-group">
	    <label class="control-label">{{ _('Hex file') }}</label>
	    <div class="input-prepend">
		    <span class="btn fileinput-button">
		        <span>{{ _('Browse...') }}</span>
		        <input id="settings-flash-arduino" type="file" name="file" data-url="{{ url_for("plugin.flasharduino.flash_hex_file") }}">
		    </span>
	        <span class="add-on" data-bind="text: hex_path" style="max-width: 65%; text-overflow: ellipsis; overflow: hidden;"></span>
	    </div>
	</div>
	<div class="control-group">
	    <label class="control-label">{{ _('Board') }}</label>
	    <div class="controls">
	        <select data-bind="options: boards, optionsText: 'text', optionsValue: 'value', value: selected_board"></select>
	    </div>
	</div>
	<div class="control-group">
	   <label for="connection_ports_flash" data-bind="css: {disabled: !connection.isErrorOrClosed()}, enable: connection.isErrorOrClosed() && loginState.isUser()">{{ _('Serial Port') }}</label>
	    <div class="controls">
	    	<select id="connection_ports_flash" data-bind="options: connection.portOptions, value: selected_port, css: {disabled: !connection.isErrorOrClosed()}, enable: connection.isErrorOrClosed() && loginState.isUser()"></select>
	    </div>
	</div>
	<button class="btn btn-block" id="printer_connect_flash" data-bind="click: connection.connect, text: connection.buttonText(), enable: loginState.isUser()">{{ _('Connect') }}</button>
	<button class="btn btn-block btn-primary" id="settings-flash-arduino-start" data-bind="enable: connection.isErrorOrClosed() && loginState.isUser()">{{ _('Flash') }}</button>
</div>
<div class ="span5">
	<h5>Status</h5>
	<div id="flash_read_progress" class="progress progress-info" style="width: 100%;">
	    <div class="bar" style="width: 100%"></div>
	    <span>Reading Flash</span>
	</div>
	<div id="flash_write_progress" class="progress progress-info" style="width: 100%;">
	    <div class="bar" style="width: 100%"></div>
	    <span>Writing Flash</span>
	</div>
	<div id="flash_verify_progress" class="progress progress-info" style="width: 100%;">
	    <div class="bar" style="width: 100%"></div>
	    <span>Verify Flash</span>
	</div>
	<div id="flash_done_progress" class="progress progress-info" style="width: 100%;">
	    <div class="bar" style="width: 100%"></div>
	    <span>Flashing Done</span>
	</div>
</div>
